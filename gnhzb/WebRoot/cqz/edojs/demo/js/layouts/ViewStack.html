<html>
<head>
    <title>EdoJS - 企业级Ajax框架!</title>
    <link href="../../../scripts/edo/res/css/edo-all.css" rel="stylesheet" type="text/css" />
</head>
<body style="padding:10px;">
    
</body>
</html>
<script src="../../../scripts/edo/edo.js" type="text/javascript"></script>
<script type="text/javascript">
Edo.create({
	type: 'ct',
	render: document.body,
	verticalGap: 0,
	children: [{
	    id: 'tbar',
		type: 'tabbar',
		selectedIndex: 0,
		border: [0,0,1,0],
		style: 'background: white',
		onselectionchange: function(e){
			tabContent.set('selectedIndex', e.selectedIndex);
		},
		children: [
			{type: 'button',text: 'tab1'},
			{type: 'button',text: 'tab2',arrowMode: 'close',
			    onarrowclick: function(e){
			        if(tbar.selectedItem != this){
			            var index = tbar.getChildAt(this);			            
			            //tabContent.removeChildAt(index);			        			            			            
			        }else{
			            var index = tbar.selectedIndex;                                        
                        var child = tbar.getChildAt(index);                    
                        if(!child){
                            child = tbar.getChildAt(index-1);
                        }
                        if(child){
                            tbar.set('selectedItem', child);                  
                        }
                        tabContent.removeChildAt(index);
			        }
			    }
			}
		]
	},{
		id: 'tabContent',
		//selectedIndex: 0,
		layout: 'viewstack',
		type: 'box',
		border: [0,1,1,1],
		width: '100%',
		height: '100%',
		verticalScrollPolicy: 'auto',
		children: [{
			type:"ct",
			width: '100%',
			height: '100%',
			children:[{			    
				type:"date"				
			}]
		},{
			type:"ct",
			width: '100%',
			height: '100%',
			children:[{
			    id: 'button2',
				type:"button",
				text:"button2"
			}]
		}]
	}]
});
</script>